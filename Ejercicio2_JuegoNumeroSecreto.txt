/**
 Codigo de 229764 David Arturo Padilla Hernandez
*/
import kotlin.random.Random

fun main() {
    println("Bienvenido al juego de adivinar el numero")
    println("Estoy pensando en un numero entre 0 y 100. Puedes adivinar cual es?")

    val numeroSecreto = Random.nextInt(0, 101)
    var intentos = 0

    while (true) {
        val respuesta = validarNumeroEntrada()
        intentos++

        if (respuesta == numeroSecreto) {
            println("Felicidades! Adivinaste el numero $numeroSecreto en $intentos intento${if (intentos > 1) "s" else ""}.")
            break
        } else if (respuesta < numeroSecreto) {
            println("El numero secreto es mayor que $respuesta. Intento: $intentos")
        } else {
            println("El numero secreto es menor que $respuesta. Intento: $intentos")
        }
    }
}

fun validarNumeroEntrada(): Int {
    var respuestaValida: Int?

    println("Por favor introduce un numero sin punto decimal (entre 0 y 100):")

    while (true) {
        val respuesta = readlnOrNull()

        if (respuesta == null) {
            println("No se que intentaste hacer, vuelve a intentarlo")
            continue
        }

        respuestaValida = respuesta.toIntOrNull()

        if (respuestaValida == null) {
            println("Eso que introdujiste no lo puedo leer como numero")
            continue
        }

        if (respuestaValida < 0 || respuestaValida > 101) {
            println("El numero debe estar entre 0 y 100")
            continue
        }

        return respuestaValida
    }
}